<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lemonade Arcade</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.0/marked.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    // Configure MathJax
    window.MathJax = {
        tex: {
            inlineMath: [['\\(', '\\)'], ['$', '$']],
            displayMath: [['\\[', '\\]'], ['$$', '$$']],
            processEscapes: true,
            processEnvironments: true
        },
        options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        }
    };
    
    // Configure marked.js for safe HTML rendering
    marked.setOptions({
        breaks: true,
        gfm: true,
        sanitize: false,
        smartLists: true,
        smartypants: true
    });
    </script>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="server-status" id="serverStatus">
                <div class="status-indicator status-offline" id="statusIndicator"></div>
                <span id="statusText">Checking...</span>
            </div>
            <div class="title">
                <pre>██╗     ███████╗███╗   ███╗ ██████╗ ███╗   ██╗ █████╗ ██████╗ ███████╗
██║     ██╔════╝████╗ ████║██╔═══██╗████╗  ██║██╔══██╗██╔══██╗██╔════╝
██║     █████╗  ██╔████╔██║██║   ██║██╔██╗ ██║███████║██║  ██║█████╗  
██║     ██╔══╝  ██║╚██╔╝██║██║   ██║██║╚██╗██║██╔══██║██║  ██║██╔══╝  
███████╗███████╗██║ ╚═╝ ██║╚██████╔╝██║ ╚████║██║  ██║██████╔╝███████╗
╚══════╝╚══════╝╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚═╝  ╚═╝╚═════╝ ╚══════╝

 █████╗ ██████╗  ██████╗ █████╗ ██████╗ ███████╗
██╔══██╗██╔══██╗██╔════╝██╔══██╗██╔══██╗██╔════╝
███████║██████╔╝██║     ███████║██║  ██║█████╗  
██╔══██║██╔══██╗██║     ██╔══██║██║  ██║██╔══╝  
██║  ██║██║  ██║╚██████╗██║  ██║██████╔╝███████╗
╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝╚═╝  ╚═╝╚═════╝ ╚══════╝</pre>
            </div>
        </div>
        
        <div class="main-content">
            <div class="game-library">
                <div class="library-title">Game Library</div>
                <div class="spinner" id="gameSpinner">
                    <div class="spinner-circle"></div>
                    <div class="status-text" id="spinnerStatus">Generating game...</div>
                </div>
                <div class="games-grid" id="gamesGrid">
                    <div class="empty-library">
                        No games yet. Create your first game below!
                    </div>
                </div>
            </div>
        </div>
        
        <div class="sidecar">
            <div class="sidecar-title">LLM Output</div>
            <div class="llm-output" id="llmOutput">Ready to generate games...</div>
        </div>
        
        <div class="input-area">
            <select class="model-select" id="modelSelect">
                <option>Loading models...</option>
            </select>
            <input type="text" class="prompt-input" id="promptInput" 
                   placeholder="Describe the game you want to create (e.g., 'snake but the food moves')" />
            <button class="create-btn" id="createBtn" onclick="createGame()">Create Game</button>
        </div>
    </div>
    
    <!-- Context Menu -->
    <div id="contextMenu" class="context-menu">
        <button class="context-menu-item" id="openFile">
            📄 Open Python File
        </button>
        <div class="context-menu-separator"></div>
        <button class="context-menu-item" id="copyPrompt">
            📋 Copy Prompt
        </button>
    </div>
    
    <script src="/static/app.js"></script>
</body>
</html>
